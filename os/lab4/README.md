20232241392-文浩然-软 2305

https://github.com/saurlax/dlut-homework/tree/main/os

本次实验通过实现生产者-消费者问题和抽烟者问题，并在多种组合和条件下测试，观察了真实操作系统中进程同步与互斥的实际效果。实验结果与理论分析相吻合，具体说明如下：

实验程序利用 Linux 下的信号量（semaphore）和共享内存（shared memory）机制实现了典型的并发进程同步。信号量的 P（down）和 V（up）操作对应操作系统教材中信号量的 P/V 操作原理。其中，互斥信号量（初值为 1）保证了同一时刻只有一个进程能够进入临界区访问共享资源，实现了进程间的互斥；同步信号量（初值为缓冲区容量或 0，视角色而定）用来记录资源数量，实现生产者和消费者、供应者和抽烟者之间的同步等待与唤醒。

信号量的初值代表了可用资源的数量。例如，生产者-消费者问题中，互斥信号量初值为 1，表示缓冲区操作的互斥权；生产者同步信号量初值为缓冲区长度 N，表示有 N 个空槽可用，消费者同步信号量初值为 0，表示初始时没有产品可取。每当生产者放入一个产品，prod 信号量减 1，cons 信号量加 1；消费者取出产品时，prod 信号量加 1，cons 信号量减 1。信号量的值动态反映了系统资源的实际状态。

实际运行时，无论是 4 个以上的生产者和消费者，还是多个抽烟者和供应者，无论启动顺序如何、执行速率如何变化，程序都能正确实现同步与互斥。实验过程中，没有出现死锁、饥饿、资源竞争、数据丢失或重复等问题。信号量值的变化严格反映了缓冲区资源的占用与释放状态，进程阻塞和唤醒符合预期，充分说明操作系统提供的同步原语能够可靠地解决并发同步问题。

综上，真实操作系统中的进程同步机制通过信号量和共享内存等 IPC 手段，实现了对临界资源的互斥访问和对协作条件的同步等待，与信号量定义和 P/V 操作原理一致。信号量的初始值和变化直接体现资源状态，保证了并发进程的有序协调。实验结果验证了这些原理在工程实现中的有效性和健壮性。
